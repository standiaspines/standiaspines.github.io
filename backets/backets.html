<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Uzum Copy</title>

    <!-- ====== BOOTSTRAP CSS ====== -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />

    <!-- ====== STYLE CSS  ======-->
    <link rel="stylesheet" href="backets.css" />

    <!-- ====== FONT AWESOME ====== -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

    <!-- ====== Flag Icon ====== -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icons/7.2.0/css/flag-icons.min.css" />

    <!-- ====== Swiper CSS ====== -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <style>
        .product-card {
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
            height: 100%;
            position: relative;
        }

        .product-card:hover {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .product-img {
            width: 100%;
            height: 180px;
            object-fit: contain;
            margin-bottom: 15px;
        }

        .product-text {
            min-height: 60px;
            font-size: 16px;
        }

        .rating {
            color: #ffc107;
        }

        .monthly-payment {
            color: #28a745;
            font-weight: bold;
        }

        .original-price {
            text-decoration: line-through;
            color: #6c757d;
            font-size: 14px;
        }

        .discounted-price {
            color: #dc3545;
            font-weight: bold;
            font-size: 18px;
        }

        .card-btns {
            cursor: pointer;
            color: #007bff;
            font-size: 20px;
        }

        .card-btns:hover {
            color: #0056b3;
        }

        .cart-icon {
            position: fixed;
            top: 20px;
            right: 20px;
            font-size: 24px;
            color: #007bff;
            cursor: pointer;
            z-index: 1000;
            background: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .cart-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #dc3545;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .products-row {
            display: flex;
            flex-wrap: nowrap;
            overflow-x: auto;
            padding-bottom: 15px;
        }

        .product-col {
            flex: 0 0 20%;
            padding: 0 10px;
        }


        .container {
            display: flex;
            margin-top: 20px;
            gap: 20px;
            flex-wrap: wrap;
        }

        .cart-items {
            width: 70%;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            flex-grow: 1;
            min-width: 0;
        }

        .summary {
            width: 25%;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            position: sticky;
            top: 20px;
            height: fit-content;
            min-width: 300px;
        }

        .cart-product-card {
            margin-bottom: 20px;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 15px;
            display: flex;
            gap: 20px;
        }

        .cart-product-img {
            width: 120px;
            height: 120px;
            object-fit: contain;
            flex-shrink: 0;
        }

        .cart-product-info {
            flex: 1;
            min-width: 0;
        }

        .remove-btn {
            color: #dc3545;
            cursor: pointer;
            align-self: flex-start;
        }

        .summary-title {
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
            margin-bottom: 15px;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .total-price {
            font-weight: bold;
            font-size: 18px;
            margin: 15px 0;
        }

        .checkout-btn {
            width: 100%;
            padding: 10px;
            font-weight: bold;
        }

        .empty-cart {
            text-align: center;
            padding: 50px 0;
        }

        .empty-cart i {
            font-size: 50px;
            color: #6c757d;
            margin-bottom: 20px;
        }
        /* Additional style for heart icon (without modifying existing styles) */
        .wishlist-icon {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 1.3rem;
            color: #ccc;
            cursor: pointer;
            z-index: 2;
            transition: all 0.2s;
        }

        .wishlist-icon:hover {
            color: #ff6b6b;
        }

        .wishlist-icon.active {
            color: #ff4757;
        }

        /* Mobile styles */
        @media (max-width: 992px) {
            .container {
                flex-direction: column;
            }

            .cart-items,
            .summary {
                width: 100%;
            }

            .summary {
                position: static;
                margin-top: 20px;
            }

            .cart-product-card {
                flex-direction: column;
                gap: 10px;
            }

            .cart-product-img {
                width: 100%;
                height: auto;
                max-height: 150px;
            }
        }

        @media (max-width: 576px) {

            .cart-items,
            .summary {
                padding: 15px;
            }

            .cart-product-card {
                padding: 10px;
            }

            .summary {
                min-width: auto;
            }
        }

        /* Mobile styles */
        @media (max-width: 1200px) {
            .product-col {
                flex: 0 0 25%;
            }
        }

        @media (max-width: 992px) {
            .product-col {
                flex: 0 0 33.333%;
            }
        }

        @media (max-width: 768px) {
            .product-col {
                flex: 0 0 50%;
            }

            .product-img {
                height: 120px;
            }

            .product-text {
                font-size: 14px;
                min-height: 50px;
            }

            .discounted-price {
                font-size: 16px;
            }

            .monthly-payment {
                font-size: 14px;
            }
        }

        @media (max-width: 576px) {
            .product-col {
                flex: 0 0 100%;
            }
        }
    </style>
</head>

<body>
    <!-- ====== NAV 1 ====== -->
    <div class="nav d-flex justify-content-between pt-1">
        <div class="d-flex gap-3">
            <div class="d-flex">
                <i class="fa-solid fa-location-dot me-1 fs-4 ms-1"></i>
                <a href="#">Toshkent</a>
            </div>
            <p>Topshirish punktlari</p>
        </div>
        <div class="d-flex gap-3">
            <a href="#">Sotuvchi bo'lish</a>
            <p class="line">|</p>
            <a href="#">Topshirish punktini ochish</a>
            <p>Savol-Javob</p>
            <p>Buyurtmalarim</p>
            <div class="dropdown p-0">
                <button class="btn btn-outline-secondary dropdown-toggle p-0" type="button" id="languageDropdown1"
                    data-bs-toggle="dropdown" aria-expanded="false">
                    <span class="fi fi-uz"></span> O'zbekcha
                </button>
                <ul class="dropdown-menu" aria-labelledby="languageDropdown1">
                    <li>
                        <a class="dropdown-item active" href="#"><span class="fi fi-uz"></span> O'zbekcha</a>
                    </li>
                    <li>
                        <a class="dropdown-item" href="#"><span class="fi fi-ru"></span> Ruscha</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- ====== NAV 2 ====== -->
    <center>
        <div class="header ">
            <img src="/imgs/0dd7e951-b7c0-4058-be07-156c5467cc92_removalai_preview.png" alt="">
            <div class="katalog-title">
                <i class="fas fa-book-open"></i>
                <p>Katalog</p>
            </div>

            <div class="search-container">
                <input type="text" class="search-input" placeholder="Mahsulotlar va turkumlar izlash">
                <button class="search-button"><i class="fas fa-search"></i></button>
            </div>

            <div class="nav-buttons">
                <a href="/index.html"><button class="nav-button"><i class="fa-regular fa-user"></i>Kirish</button></a>
                <a href="/like/backet.html"><button class="nav-button"><i class="fa-regular fa-heart"></i>
                        Saralangan</button></a>
                <a href="/backets/backets.html"><button class="nav-button"><i class="fas fa-shopping-basket"></i>
                        Savat</button></a>
            </div>
        </div>
    </center>
    <center>
        <div class="katergoriya d-flex gap-4">
            <div><img src="/imgs/school-bag.png" alt=""><b class="mt-2">Maktab bozori</b></div>
            <div><img src="/imgs/discount (1).png" alt=""><b class="mt-2">Yozgi savdo</b></div>
            <div><img src="/imgs/school-supplies.png" alt=""><b class="mt-2">Kanselyariya</b></div>
            <div><img src="/imgs/discount (2).png" alt=""><b class="mt-2">Nasiya</b></div>
            <p>Elektronika</p>
            <p>Maishiy texnika</p>
            <p>Kiyim</p>
            <p>Poyabzallar</p>
            <p>Aksessuarlar</p>
            <p>Go'zallik va parvarish</p>
            <p>Salomatlik</p>
            <p>Yana <i class="fa-solid fa-caret-down"></i></p>
        </div>
    </center>

    <!-- ====== Backets container ====== -->
    <div class="container py-4">
        <div class="cart-items" id="cartItemsContainer">
            <h3>Savat</h3>
            <div id="cartItemsList">
                <!-- Cart items will be inserted here -->
            </div>
        </div>

        <div class="summary">
            <h4 class="summary-title">Buyurtma xulosasi</h4>
            <div id="orderSummary">
                <!-- Order summary will be inserted here -->
            </div>
        </div>
    </div>

    <!-- Faqat mobil uchun pastki navigatsiya -->
    <div class="mobile-bottom-nav">
        <a href="/index.html">
            <div class="active">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </div>
        </a>
        <a href="/like/backet.html">
            <div>
                <i class="fas fa-heart"></i>
                <span>Saralangan</span>
            </div>
        </a>
        <a href="/backets/backets.html">
            <div>
                <i class="fas fa-shopping-cart"></i>
                <span>Savat</span>
            </div>
        </a>
        <a href="/index.html">
            <div>
                <i class="fas fa-user"></i>
                <span>Profil</span>
            </div>
        </a>
    </div>

    <div class="container py-4">
        <h2 class="mb-4">Mahsulotlar</h2>
        <div class="products-row">
            <!-- Product 1 -->
            <div class="product-col">
                <div class="product-card">
                    <div class="card-btns1 mt-3" onclick="addToCart(this)">
                        <i class="fa-regular fa-heart wishlist-icon"></i>
                    </div>
                    <div class="position-relative">
                        <img src="/imgs/muzlatgich.jpg" class="product-img" alt="Biryusa muzlatgichi" />
                    </div>
                    <div class="product-info">
                        <h5 class="product-text">
                            Ikki kamerali Biryusa muzlatgichi, Biryusa-118 modeli, hajmi 180 Litr
                        </h5>
                        <div class="rating mb-2">
                            <i class="fa-solid fa-star"></i> 4.9 (37 sharhlar)
                        </div>
                        <samp class="monthly-payment">205 545 söm/oyiga</samp>
                        <div class="d-flex justify-content-between">
                            <div class="d-flex flex-column">
                                <span class="original-price">4 250 000 söm</span>
                                <span class="discounted-price">2 899 000 söm</span>
                            </div>
                            <div class="card-btns mt-3" onclick="addToCart(this)">
                                <i class="fa-solid fa-basket-shopping"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Product 2 -->
            <div class="product-col">
                <div class="product-card">
                    <div class="card-btns1 mt-3" onclick="addToCart(this)">
                        <i class="fa-regular fa-heart wishlist-icon"></i>
                    </div>
                    <div class="position-relative">
                        <img src="/imgs/televizor.jpg" class="product-img" alt="Samsung televizori" />
                    </div>
                    <div class="product-info">
                        <h5 class="product-text">
                            Samsung QLED 4K Smart TV, 55 dyuymli, QN55Q60AAFXZC modeli
                        </h5>
                        <div class="rating mb-2">
                            <i class="fa-solid fa-star"></i> 4.7 (42 sharhlar)
                        </div>
                        <samp class="monthly-payment">350 000 söm/oyiga</samp>
                        <div class="d-flex justify-content-between">
                            <div class="d-flex flex-column">
                                <span class="original-price">6 500 000 söm</span>
                                <span class="discounted-price">5 250 000 söm</span>
                            </div>
                            <div class="card-btns mt-3" onclick="addToCart(this)">
                                <i class="fa-solid fa-basket-shopping"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Product 3 -->
            <div class="product-col">
                <div class="product-card">
                    <div class="card-btns1 mt-3" onclick="addToCart(this)">
                        <i class="fa-regular fa-heart wishlist-icon"></i>
                    </div>
                    <div class="position-relative">
                        <img src="/imgs/smartfon.jpg" class="product-img" alt="Smartfon" />
                    </div>
                    <div class="product-info">
                        <h5 class="product-text">
                            iPhone 13 Pro Max, 256GB, Grafit rangli, yangi paketda
                        </h5>
                        <div class="rating mb-2">
                            <i class="fa-solid fa-star"></i> 4.8 (89 sharhlar)
                        </div>
                        <samp class="monthly-payment">450 000 söm/oyiga</samp>
                        <div class="d-flex justify-content-between">
                            <div class="d-flex flex-column">
                                <span class="original-price">8 999 000 söm</span>
                                <span class="discounted-price">7 750 000 söm</span>
                            </div>
                            <div class="card-btns mt-3" onclick="addToCart(this)">
                                <i class="fa-solid fa-basket-shopping"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Product 4 -->
            <div class="product-col">
                <div class="product-card">
                    <div class="card-btns1 mt-3" onclick="addToCart(this)">
                        <i class="fa-regular fa-heart wishlist-icon"></i>
                    </div>
                    <div class="position-relative">
                        <img src="/imgs/noutbuk.jpg" class="product-img" alt="Noutbuk" />
                    </div>
                    <div class="product-info">
                        <h5 class="product-text">
                            HP Pavilion 15-eg0007, Core i7, 16GB RAM, 512GB SSD, 15.6"
                        </h5>
                        <div class="rating mb-2">
                            <i class="fa-solid fa-star"></i> 4.6 (54 sharhlar)
                        </div>
                        <samp class="monthly-payment">375 000 söm/oyiga</samp>
                        <div class="d-flex justify-content-between">
                            <div class="d-flex flex-column">
                                <span class="original-price">7 800 000 söm</span>
                                <span class="discounted-price">6 500 000 söm</span>
                            </div>
                            <div class="card-btns mt-3" onclick="addToCart(this)">
                                <i class="fa-solid fa-basket-shopping"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Product 5 -->
            <div class="product-col">
                <div class="product-card">
                    <div class="card-btns1 mt-3" onclick="addToCart(this)">
                        <i class="fa-regular fa-heart wishlist-icon"></i>
                    </div>
                    <div class="position-relative">
                        <img src="/imgs/kiryuvishmashina.jpg" class="product-img" alt="Kir yuvish mashinasi" />
                    </div>
                    <div class="product-info">
                        <h5 class="product-text">
                            LG F2J3HS2W, 6kg, 1200 aylanish, inverter motor, oq rang
                        </h5>
                        <div class="rating mb-2">
                            <i class="fa-solid fa-star"></i> 4.5 (63 sharhlar)
                        </div>
                        <samp class="monthly-payment">185 000 söm/oyiga</samp>
                        <div class="d-flex justify-content-between">
                            <div class="d-flex flex-column">
                                <span class="original-price">3 700 000 söm</span>
                                <span class="discounted-price">3 200 000 söm</span>
                            </div>
                            <div class="card-btns mt-3" onclick="addToCart(this)">
                                <i class="fa-solid fa-basket-shopping"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer style="background-color: white; padding: 20px; font-family: Arial, sans-serif;">
        <div style="display: flex; justify-content: space-between; flex-wrap: wrap; max-width: 1200px; margin: 0 auto;">

            <div style="flex: 1; min-width: 200px; margin: 10px;">
                <h3 style="color: #333; font-size: 16px; margin-bottom: 10px;"><b>Biz haqimizda</b></h3>
                <ul style="list-style: none; padding: 0;">
                    <li style="margin-bottom: 5px;"><a href="#" style="text-decoration: none; color: #555;">Topshirish
                            punktlari</a></li>
                    <li style="margin-bottom: 5px;"><a href="#"
                            style="text-decoration: none; color: #555;">Vakansiyalar</a></li>
                </ul>
            </div>
            <!-- For Users Section -->
            <div style="flex: 1; min-width: 200px; margin: 10px;">
                <h3 style="color: #333; font-size: 16px; margin-bottom: 10px;"><b>Foydalanuvchilarga</b></h3>
                <ul style="list-style: none; padding: 0;">
                    <li style="margin-bottom: 5px;"><a href="#" style="text-decoration: none; color: #555;">Biz
                            bilanbog'lanish</a></li>
                    <li style="margin-bottom: 5px;"><a href="#"
                            style="text-decoration: none; color: #555;">Savol-Javob</a></li>
                </ul>
            </div>

            <!-- For Businesses Section -->
            <div style="flex: 1; min-width: 200px; margin: 10px;">
                <h3 style="color: #333; font-size: 16px; margin-bottom: 10px;"><b>Tadbirkorlarga</b></h3>
                <ul style="list-style: none; padding: 0;"> <br>
                    <li style="margin-bottom: 5px;"><a href="#" style="text-decoration: none; color: #555;">Sotuvchi
                            kabinetiga kirish</a></li>
                </ul>
            </div>

            <!-- Download App Section -->
            <div style="flex: 1; min-width: 200px; margin: 10px;">
                <h3 style="color: #333; font-size: 16px; margin-bottom: 10px;"><b>Ilovani yuklab olish</b></h3>
                <ul class="d-flex" style="list-style: none; padding: 0;">
                    <li class="mt-2 fs-5 me-3" style="margin-bottom: 5px;"><a href="#"
                            style="text-decoration: none; color: #555;">AppStore</a>
                    </li>
                    <li style="margin-bottom: 5px;"><a href="#" style="text-decoration: none; color: #555;"><img
                                src="/imgs/googleplay.jpg" alt=""></a></li>
                </ul>

                <div class="logo-img" style="text-align: center; margin-bottom: 15px;">
                    <p style="color: #555; font-weight: bold;">Uzum ijtimoiy tarmoqlarda</p>
                    <div>
                        <img src="/imgs/instagram.jpg" alt="instagram logo">
                        <img src="/imgs/telegram.jpg" alt="telegram logo">
                        <img src="/imgs/facebook.jpg" alt="facebook logo">
                        <img class="me-3" src="/imgs/youtube.jpg" alt="youtube logo">
                    </div>
                </div>
            </div>
        </div>


        <hr style="border: 0; height: 1px; background-color: #a7a7a7; margin: 20px 0;">

        <div class="d-flex gap-5" style="text-align: center; font-size: 14px; color: #666;">
            <p><strong>Maxfiylik kelishuvi</strong></p>
            <p>Foydalanuvchi kelishuvi</p>
            <p><small>&copy; 2024 Company Name, All rights reserved</small></p>
        </div>
    </footer>

    <!-- ====== BOOTSTRAP JS ====== -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- ====== Swiper JS ====== -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <!-- ====== JS ====== -->

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
            const cartItemsList = document.getElementById('cartItemsList');
            const orderSummary = document.getElementById('orderSummary');

            let totalPrice = 0;

            if (cartItems.length === 0) {
                cartItemsList.innerHTML = `
                    <div class="backets">
        <center>
            <img class="ms-5" src="/imgs/savat_prev_ui.png" alt="">
            <h4><b>Savatda hozircha mahsulot yo'q</b></h4>
            <p>Bosh sahifadagi to'plamlardan boshlang yoki kerakli mahsulotni qidiruv orqali toping</p>
            <a href="/main page/index.html"><div class="backets-btn">Bosh sahifa</div></a>
        </center>
    </div>
                `;

                orderSummary.innerHTML = `
                    <div class="summary-item">
                        <span>Jami mahsulotlar:</span>
                        <span>0</span>
                    </div>
                    <div class="total-price">
                        0 söm
                    </div>
                    <button class="btn btn-primary checkout-btn" disabled>Buyurtma berish</button>
                `;
                return;
            }

            // Display each cart item
            cartItems.forEach((item, index) => {
                // Add item to the cart display
                const itemDiv = document.createElement('div');
                itemDiv.className = 'cart-product-card';
                itemDiv.innerHTML = `
                    <img src="/imgs/${item.image || 'muzlatgich.jpg'}" class="cart-product-img" alt="${item.name}" />
                    <div class="cart-product-info">
                        <h5>${item.name}</h5>
                        <div class="d-flex justify-content-between align-items-center mt-3">
                            <span class="discounted-price">${formatPrice(item.price)} söm</span>
                            <i class="fas fa-trash remove-btn" onclick="removeItem(${index})"></i>
                        </div>
                    </div>
                `;
                cartItemsList.appendChild(itemDiv);

                // Add to total price
                totalPrice += item.price;
            });

            // Display order summary
            orderSummary.innerHTML = `
                <div class="summary-item">
                    <span>Jami mahsulotlar:</span>
                    <span>${cartItems.length} ta</span>
                </div>
                <div class="summary-item">
                    <span>Yetkazib berish:</span>
                    <span>Bepul</span>
                </div>
                <div class="total-price">
                    Jami: ${formatPrice(totalPrice)} söm
                </div>
                <button class="btn btn-primary checkout-btn">Buyurtma berish</button>
            `;
        });

        function formatPrice(price) {
            return price.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
        }

        function removeItem(index) {
            let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
            cartItems.splice(index, 1);
            localStorage.setItem('cartItems', JSON.stringify(cartItems));
            location.reload();
        }
    </script>

    <script>
        // Update cart count on page load
        document.addEventListener('DOMContentLoaded', function () {
            updateCartCount();
        });

        function addToCart(button) {
            // Get the product card element
            const productCard = button.closest('.product-card');

            // Clone the card to avoid modifying the original
            const cardClone = productCard.cloneNode(true);

            // Remove the click event from the button in the clone
            const cloneButton = cardClone.querySelector('.card-btns1');
            cloneButton.removeAttribute('onclick');
            cloneButton.style.cursor = 'default';
            cloneButton.style.color = '#6c757d';

            // Get the price (remove non-numeric characters)
            const priceText = cardClone.querySelector('.discounted-price').textContent;
            const price = parseInt(priceText.replace(/\D/g, ''));

            // Get product name
            const productName = cardClone.querySelector('.product-text').textContent.trim();

            // Create a cart item object
            const cartItem = {
                html: cardClone.outerHTML,
                price: price,
                name: productName,
                image: cardClone.querySelector('.product-img').src.split('/').pop()
            };

            // Get existing cart items from localStorage or initialize empty array
            let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];

            // Add the new item
            cartItems.push(cartItem);

            // Save back to localStorage
            localStorage.setItem('cartItems', JSON.stringify(cartItems));

            // Update cart count
            updateCartCount();

            // Show success message
            alert(`${productName} savatga qo'shildi!`);
        }

        function updateCartCount() {
            const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
            document.getElementById('cartCount').textContent = cartItems.length;
        }

        function goToCart() {
            window.location.href = '/like/backet.html';
        }
    </script>
    <script>
        // Update cart count on page load
        document.addEventListener('DOMContentLoaded', function () {
            updateCartCount();
        });

        function addToCart(button) {
            // Get the product card element
            const productCard = button.closest('.product-card');

            // Clone the card to avoid modifying the original
            const cardClone = productCard.cloneNode(true);

            // Remove the click event from the button in the clone
            const cloneButton = cardClone.querySelector('.card-btns');
            cloneButton.removeAttribute('onclick');
            cloneButton.style.cursor = 'default';
            cloneButton.style.color = '#6c757d';

            // Get the price (remove non-numeric characters)
            const priceText = cardClone.querySelector('.discounted-price').textContent;
            const price = parseInt(priceText.replace(/\D/g, ''));

            // Get product name
            const productName = cardClone.querySelector('.product-text').textContent.trim();

            // Create a cart item object
            const cartItem = {
                html: cardClone.outerHTML,
                price: price,
                name: productName,
                image: cardClone.querySelector('.product-img').src.split('/').pop()
            };

            // Get existing cart items from localStorage or initialize empty array
            let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];

            // Add the new item
            cartItems.push(cartItem);

            // Save back to localStorage
            localStorage.setItem('cartItems', JSON.stringify(cartItems));

            // Update cart count
            updateCartCount();

            // Show success message
            alert(`${productName} savatga qo'shildi!`);
        }

        function updateCartCount() {
            const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
            document.getElementById('cartCount').textContent = cartItems.length;
        }

        function goToCart() {
            window.location.href = '/backets/backets.html';
        }
    </script>
    <script src="backets.js"></script>
</body>

</html>